@use "sass:color";

:root {
  /*── LIGHT THEME ─────────────────────────────────────────────────────────────*/
  color-scheme: light;

  /* Core colors */
  --global-bg-color:          #F1F6FF;    // New pale sky
  --global-code-bg-color:     #F7FAFF;    // Slightly darker for code blocks
  --global-text-color:        #2E3A46;    // Dark slate
  --global-text-color-light:  #62727B;    // Medium slate
  --global-theme-color:       #8E24AA;    // Distinctive purple
  --global-hover-color:       #6A1B9A;    // Deeper purple hover
  --global-hover-text-color:  #FFFFFF;    // White on accent
  --global-footer-bg-color:   #2E3A46;    // Dark slate footer
  --global-footer-text-color: #F1F6FF;    // Pale sky text
  --global-footer-link-color: #8E24AA;    // Purple links
  --global-distill-app-color: #62727B;    // Subtle slate
  --global-divider-color:     rgba(0, 0, 0, 0.05);
  --global-card-bg-color:     #FFFFFF;    // White cards
  --global-highlight-color:   #D500F9;    // Vivid magenta‑purple

  /* Back‑to‑top button */
  --global-back-to-top-bg-color: rgba(
    #{color.channel(#2E3A46, "red",   $space: rgb)},
    #{color.channel(#2E3A46, "green", $space: rgb)},
    #{color.channel(#2E3A46, "blue",  $space: rgb)},
    0.3
  );
  --global-back-to-top-text-color: #FFFFFF;

  /* Newsletter */
  --global-newsletter-bg-color:   #FFFFFF;
  --global-newsletter-text-color: #2E3A46;

  /* Tip / Warning / Danger blocks (unchanged) */
  --global-tip-block:        #42B983;
  --global-tip-block-bg:     #E2F5EC;
  --global-tip-block-text:   #215D42;
  --global-tip-block-title:  #359469;
  --global-warning-block:        #E7C000;
  --global-warning-block-bg:     #FFF8D8;
  --global-warning-block-text:   #6B5900;
  --global-warning-block-title:  #B29400;
  --global-danger-block:        #C00;
  --global-danger-block-bg:     #FFE0E0;
  --global-danger-block-text:   #600;
  --global-danger-block-title:  #C00;

  /* Light/dark toggle & utility */
  #light-toggle-system { padding: 12px 0 0 10px; display: block; }
  #light-toggle-dark, #light-toggle-light { display: none; }
  .only-light { display: block; }
  .only-dark  { display: none; }

  /* Back‑to‑top positioning */
  #back-to-top {
    color: var(--global-back-to-top-text-color);
    background: var(--global-back-to-top-bg-color);
    bottom: $back-to-top-bottom;
    right: $back-to-top-right;
    height: $back-to-top-height;
    width: $back-to-top-width;
    z-index: $back-to-top-z-index;
  }
}

html[data-theme="dark"] {
  /*── DARK THEME ──────────────────────────────────────────────────────────────*/
  color-scheme: dark;

  /* Core colors */
  --global-bg-color:          #2E3A46;  // Dark slate
  --global-code-bg-color:     #394547;  // Slate for code
  --global-text-color:        #ECEFF1;  // Off‑white
  --global-text-color-light:  #B0BEC5;  // Light grey
  --global-theme-color:       #CE93D8;  // Soft lavender accent
  --global-hover-color:       #AB47BC;  // Darker lavender on hover
  --global-hover-text-color:  #000000;  // Black on accent
  --global-footer-bg-color:   #455A64;  // Slate grey
  --global-footer-text-color: #ECEFF1;  // Off‑white
  --global-footer-link-color: #CE93D8;  // Lavender links
  --global-distill-app-color: #B0BEC5;  // Light grey
  --global-divider-color:     #424242;
  --global-card-bg-color:     #394547;  // Dark card panels

  /* Back‑to‑top button */
  --global-back-to-top-bg-color: rgba(
    #{color.channel(#ECEFF1, "red",   $space: rgb)},
    #{color.channel(#ECEFF1, "green", $space: rgb)},
    #{color.channel(#ECEFF1, "blue",  $space: rgb)},
    0.5
  );
  --global-back-to-top-text-color: #2E3A46;

  /* Newsletter */
  --global-newsletter-bg-color:   #455A64;
  --global-newsletter-text-color: #ECEFF1;

  /* Tip / Warning / Danger blocks (unchanged) */
  --global-tip-block:        #42B983;
  --global-tip-block-bg:     #E2F5EC;
  --global-tip-block-text:   #215D42;
  --global-tip-block-title:  #359469;
  --global-warning-block:        #E7C000;
  --global-warning-block-bg:     #FFF8D8;
  --global-warning-block-text:   #6B5900;
  --global-warning-block-title:  #B29400;
  --global-danger-block:        #C00;
  --global-danger-block-bg:     #FFE0E0;
  --global-danger-block-text:   #600;
  --global-danger-block-title:  #C00;

  /* Toggle classes */
  .only-light { display: none; }
  .only-dark  { display: block; }
}
